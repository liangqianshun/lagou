var Tool=function(){this.flag="getElementsByClassName"in document};Tool.prototype={constructor:Tool,toJSON:function(){var jsonObj=null,jsonStr=arguments[0];try{jsonObj=JSON.parse(jsonStr)}catch(e){jsonObj=eval("("+jsonStr+")")}return jsonObj},isType:function(){var a=arguments[0],b=arguments[1]||"Object",c=new RegExp("\\[object "+b+"\\]","i");return c.test({}.toString.call(a))},listToArray:function(){var c,a=[],b=arguments[0];if(this.flag)a=[].slice.call(b,0);else for(c=0;c<b.length;c++)a.push(b[c]);return a},getElementsByClass:function(){var d,e,f,g,a=arguments[0],b=arguments[1]||document,c=[];if(this.flag)return this.listToArray(b.getElementsByClassName(a));for(d=b.getElementsByTagName("*"),e=new RegExp("(?:^| +)"+a+"(?: +|$)"),f=0;f<d.length;f++)g=d[f],e.test(g.className)&&c.push(g);return c},getChildren:function(){var f,g,a=arguments[0],b=arguments[1],c=a.childNodes,d=[],e=new RegExp("^"+b+"$","i");for(f=0;f<c.length;f++)if(g=c[f],1===g.nodeType){if(b){e.test(g.nodeName)&&d.push(g);continue}d.push(g)}return d},getFirst:function(){var a=arguments[0],b=this.getChildren(a);return b.length>0?b[0]:null},getLast:function(){var a=arguments[0],b=this.getChildren(a);return b.length>0?b[b.length-1]:null},getPre:function(){var b,a=arguments[0];if(this.flag)return a.previousElementSibling;for(b=a.previousSibling;b&&1!==b.nodeType;)b=b.previousSibling;return b},getPres:function(){for(var a=arguments[0],b=[],c=this.flag?"previousElementSibling":"previousSibling",d=a[c];d;)1===d.nodeType&&b.unshift(d),d=d[c];return b},getNext:function(){var b,a=arguments[0];if(this.flag)return a.nextElementSibling;for(b=a.nextSibling;b&&1!==b.nodeType;)b=b.nextSibling;return b},getNexts:function(){for(var a=arguments[0],b=[],c=this.getNext(a);c;)b.push(c),c=this.getNext(c);return b},getSibling:function(){var a=arguments[0],b=[],c=this.getPre(a),d=this.getNext(a);return c?b.push(c):void 0,d?b.push(d):void 0,b},getSiblings:function(){var a=arguments[0],b=this.getPres(a),c=this.getNexts(a);return b.concat(c)},getIndex:function(){var a=arguments[0];return this.getPres(a).length},getCss:function(){var a=arguments[0],b=arguments[1],c=/^(?:margin|padding|border|float|position|display|background|backgroundColor)$/,d=this.flag?window.getComputedStyle(b,null)[a]:b.currentStyle[a];return c.test(a)?d:parseFloat(d)},setCss:function(){var a=arguments[0],b=arguments[1],c=arguments[2];switch(b){case"opacity":a["style"][b]=c,a["style"]["filter"]="alpha(opacity="+100*c+")";break;case"zIndex":a["style"][b]=c;break;default:a["style"][b]=isNaN(c)?c:c+="px"}},setGroupCss:function(){var c,a=arguments[0],b=arguments[1];for(c in b)this.setCss(a,c,b[c])},hasClass:function(){var a=arguments[0],b=arguments[1],c=new RegExp("(?:^| +)"+a+"(?: +|$)");return c.test(b.className)},addClass:function(){var a=arguments[0],b=arguments[1];this.hasClass(a,b)||(b.className+=" "+a)},removeClass:function(){var a=arguments[0],b=arguments[1],c=new RegExp("(?:^| +)"+a+"(?: +|$)","g");this.hasClass(a,b)&&(b.className=b.className.replace(c," "))},offset:function(){for(var a=arguments[0],b=a.offsetParent,c=a.offsetLeft,d=a.offsetTop;b;)c+=b.offsetLeft,d+=b.offsetTop,navigator.userAgent.indexOf("MSIE 8.0")<=-1&&(c+=b.clientLeft,d+=b.clientTop),b=b.offsetParent;return{left:c,top:d}},insertAfter:function(){var a=arguments[0],b=arguments[1],c=this.getNext(b),d=b.parentNode;c?d.insertBefore(a,c):d.appendChild(a)},prependChild:function(){var a=arguments[0],b=arguments[1],c=this.getFirst(b);c?b.insertBefore(a,c):b.appendChild(a)},html:function(){var a=arguments[0],b=arguments[1]||"";return b?(a.innerHTML=b,void 0):a.innerHTML}},~function(){var a=String.prototype,b=Array.prototype,c=Object.prototype;b.myDistinct=function(){var b,c,a={};for(b=0;b<this.length;b++)c=this[b],a[c]!=c?a[c]=c:(this.splice(b,1),b--);return a=null,this},b.myForEach=function(){var c,a=arguments[0],b=arguments[1]||window;if(this.forEach)return this.forEach(a,b),this;for(c=0;c<this.length;c++)a.call(b,this[c],c,this);return this},c.myHasPubProperty=function(){var a=arguments[0];return a in this&&!this.hasOwnProperty(a)},a.myTrim=function(){return this.replace(/(^\s*|\s*$)/g,"")},a.mySub=function(){var e,f,a=arguments[0]||10,b=arguments[1]||!1,c="",d=0;for(e=0;e<this.length;e++){if(f=this.charAt(e),/[\u4e00-\u9fa5]/.test(f)?d+=2:d++,d>a){b?c+="...":void 0;break}c+=f}return c},a.myFormatTime=function(){var c,a=/^(\d{4})(?:-|\/|\.|:)(\d{1,2})(?:-|\/|\.|:)(\d{1,2})(?:\s+)(\d{1,2})(?:-|\/|\.|:)(\d{1,2})(?:-|\/|\.|:)(\d{1,2})$/g,b=[];return this.replace(a,function(){b=[].slice.call(arguments).slice(1,7)}),c=arguments[0]||"{0}年{1}月{2}日 {3}:{4}:{5}",c.replace(/{(\d+)}/g,function(){var a=b[arguments[1]];return 1===a.length?"0"+a:a})},a.myQueryURLParameter=function(){var a=/([^?&=]+)=([^?&=]+)/g,b={};return this.replace(a,function(){b[arguments[1]]=arguments[2]}),b}}();